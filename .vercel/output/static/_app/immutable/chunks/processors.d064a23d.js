import{_ as y}from"./preload-helper.a4192956.js";import{aA as M,c as j,q as E,v as L}from"./Page.svelte_svelte_type_style_lang.8d655cf0.js";import{ar as d}from"./index.0bca4926.js";import"./navigation.e461c846.js";import"./singletons.8ee9b9e3.js";var W=0;function _(r,e){var t=e.data;if(!(!Array.isArray(t)||t.length<2)){var n=t[0],l=t[1],s=t[2],a=r._callbacks[n];a&&(delete r._callbacks[n],a(l,s))}}function k(r){var e=this;e._worker=r,e._callbacks={},r.addEventListener("message",function(t){_(e,t)})}k.prototype.postMessage=function(r){var e=this,t=W++,n=[t,r];return new Promise(function(l,s){if(e._callbacks[t]=function(o,c){if(o)return s(new Error(o.message));l(c)},typeof e._worker.controller<"u"){var a=new MessageChannel;a.port1.onmessage=function(o){_(e,o)},e._worker.controller.postMessage(n,[a.port2])}else e._worker.postMessage(n)})};var A=k;const w=M(A);function O(){return new Worker(""+new URL("../workers/rollup.worker-e563a2ce.js",import.meta.url).href)}function P(){return new Worker(""+new URL("../workers/postcss.worker-c14401c9.js",import.meta.url).href)}const R=new w(new P),b=new w(new O),f=new Map;async function N({component:r,buildStatic:e=!0,format:t="esm"}){let n;if(!e&&(n=JSON.stringify({component:r,format:t}),f.has(n)))return f.get(n);const l=Array.isArray(r);let s;try{const o=l?r.some(c=>c.js):!!r.js;s=await b.postMessage({component:r,hydrated:e&&o,buildStatic:e,format:t,site:d(j),locale:d(E)})}catch(o){console.log("error",o),s={error:o.toString()}}let a;if(!s)a={html:'<h1 style="text-align: center">could not render</h1>'},s={};else if(s.error){let o=function(c){return c.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")};console.error(s.error),a={error:o(s.error)}}else if(e){const o=new Blob([s.ssr],{type:"text/javascript"}),c=URL.createObjectURL(o),{default:h}=await y(()=>import(c),[],import.meta.url);URL.revokeObjectURL(c);let i;l?i=r.reduce((u,g,v)=>(L.isEmpty(g.data)||(u[`component_${v}_props`]=g.data),u),{}):i=r.data;const p=h.render(i);a={head:p.head,html:p.html,css:p.css.code,js:s.dom}}else a={js:s.dom};return e||f.set(n,a),a}const m=new Map;async function T(r){if(m.has(r))return{css:m.get(r)};const e=await R.postMessage({css:r});return e.message?{error:e.message}:(m.set(r,e),{css:e})}export{T as css,N as html};
//# sourceMappingURL=processors.d064a23d.js.map
