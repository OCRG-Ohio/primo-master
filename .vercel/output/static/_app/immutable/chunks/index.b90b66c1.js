import{a8 as Ne,a9 as Se,aa as Le,ab as je,ac as Xe,ad as Me,a5 as ae,ae as Je,af as Qe,ag as $e,ah as A,ai as et,aj as B,ak as _,al as R,am as tt,an as nt,ao as Ce,ap as Pe,aq as Fe,ar as ke,as as rt,at as it,au as st,av as ye,aw as q,ax as he,ay as ot,az as ee}from"./Page.svelte_svelte_type_style_lang.8d655cf0.js";import{c as at}from"./index.a02c07a6.js";import{Z as dt}from"./index.0bca4926.js";function lt(e){const t=e.cloneNode(!0),r=[],n=e.tagName==="SELECT",s=n?[e]:[...e.querySelectorAll("select")];for(const d of s)r.push(d.value);if(s.length>0){const d=n?[t]:[...t.querySelectorAll("select")];for(let l=0;l<d.length;l++){const h=d[l],o=r[l],f=h.querySelector(`option[value="${o}"`);f&&f.setAttribute("selected",!0)}}const a=e.tagName==="CANVAS",u=a?[e]:[...e.querySelectorAll("canvas")];if(u.length>0){const d=a?[t]:[...t.querySelectorAll("canvas")];for(let l=0;l<d.length;l++){const h=u[l],o=d[l];o.width=h.width,o.height=h.height,o.getContext("2d").drawImage(h,0,0)}}return t}const ct=.2;function W(e){return`${e} ${ct}s ease`}function ut(e,t){const r=e.getBoundingClientRect(),n=lt(e);Ge(e,n),n.id=je,n.style.position="fixed";let s=r.top,a=r.left;if(n.style.top=`${s}px`,n.style.left=`${a}px`,t){const u=Xe(r);s-=u.y-t.y,a-=u.x-t.x,window.setTimeout(()=>{n.style.top=`${s}px`,n.style.left=`${a}px`},0)}return n.style.margin="0",n.style.boxSizing="border-box",n.style.height=`${r.height}px`,n.style.width=`${r.width}px`,n.style.transition=`${W("top")}, ${W("left")}, ${W("background-color")}, ${W("opacity")}, ${W("color")} `,window.setTimeout(()=>n.style.transition+=`, ${W("width")}, ${W("height")}`,0),n.style.zIndex="9999",n.style.cursor="grabbing",n}function ft(e){e.style.cursor="grab"}function gt(e,t,r,n){Ge(t,e);const s=t.getBoundingClientRect(),a=e.getBoundingClientRect(),u=s.width-a.width,d=s.height-a.height;if(u||d){const l={left:(r-a.left)/a.width,top:(n-a.top)/a.height};Ne(Se.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)||(e.style.height=`${s.height}px`,e.style.width=`${s.width}px`),e.style.left=`${parseFloat(e.style.left)-l.left*u}px`,e.style.top=`${parseFloat(e.style.top)-l.top*d}px`}}function Ge(e,t){const r=window.getComputedStyle(e);Array.from(r).filter(n=>n.startsWith("background")||n.startsWith("padding")||n.startsWith("font")||n.startsWith("text")||n.startsWith("align")||n.startsWith("justify")||n.startsWith("display")||n.startsWith("flex")||n.startsWith("border")||n==="opacity"||n==="color"||n==="list-style-type"||Ne(Se.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)&&(n==="width"||n==="height")).forEach(n=>t.style.setProperty(n,r.getPropertyValue(n),r.getPropertyPriority(n)))}function pt(e,t){e.draggable=!1,e.ondragstart=()=>!1,t?(e.style.userSelect="",e.style.WebkitUserSelect="",e.style.cursor=""):(e.style.userSelect="none",e.style.WebkitUserSelect="none",e.style.cursor="grab")}function ze(e){e.style.display="none",e.style.position="fixed",e.style.zIndex="-5"}function Et(e){e.style.visibility="hidden",e.setAttribute(Le,"true")}function ht(e){e.style.visibility="",e.removeAttribute(Le)}function te(e,t=()=>{},r=()=>[]){e.forEach(n=>{const s=t(n);Object.keys(s).forEach(a=>{n.style[a]=s[a]}),r(n).forEach(a=>n.classList.add(a))})}function re(e,t=()=>{},r=()=>[]){e.forEach(n=>{const s=t(n);Object.keys(s).forEach(a=>{n.style[a]=""}),r(n).forEach(a=>n.classList.contains(a)&&n.classList.remove(a))})}function mt(e){const t=e.style.minHeight;e.style.minHeight=window.getComputedStyle(e).getPropertyValue("height");const r=e.style.minWidth;return e.style.minWidth=window.getComputedStyle(e).getPropertyValue("width"),function(){e.style.minHeight=t,e.style.minWidth=r}}const Dt="--any--",yt=100,Tt=20,Te=3,we={outline:"rgba(255, 255, 102, 0.7) solid 2px"},ve="data-is-dnd-original-dragged-item";let F,y,N,de,g,le,K,x,z,L,H=!1,me=!1,De,J=!1,ne=[];const C=new Map,E=new Map,ue=new WeakMap;function wt(e,t){C.has(t)||C.set(t,new Set),C.get(t).has(e)||(C.get(t).add(e),$e())}function Ae(e,t){C.get(t).delete(e),Me(),C.get(t).size===0&&C.delete(t)}function vt(){nt();const e=C.get(de);for(const n of e)n.addEventListener(Ce,Ze),n.addEventListener(Pe,Be),n.addEventListener(Fe,We);window.addEventListener(ke,j);const t=Math.max(...Array.from(e.keys()).map(n=>E.get(n).dropAnimationDurationMs)),r=t===0?Tt:Math.max(t,yt);rt(y,e,r*1.07)}function At(){it();const e=C.get(de);for(const t of e)t.removeEventListener(Ce,Ze),t.removeEventListener(Pe,Be),t.removeEventListener(Fe,We);window.removeEventListener(ke,j),st()}function ce(e){return e.findIndex(t=>!!t[ae])}function Ze(e){let{items:t,dropFromOthersDisabled:r}=E.get(e.currentTarget);if(r&&e.currentTarget!==g)return;if(J=!1,t=t.filter(u=>u[A]!==K[A]),g!==e.currentTarget){const d=E.get(g).items.filter(l=>!l[ae]);B(g,d,{trigger:_.DRAGGED_ENTERED_ANOTHER,id:N[A],source:R.POINTER})}const{index:n,isProximityBased:s}=e.detail.indexObj,a=s&&n===e.currentTarget.children.length-1?n+1:n;x=e.currentTarget,t.splice(a,0,K),B(e.currentTarget,t,{trigger:_.DRAGGED_ENTERED,id:N[A],source:R.POINTER})}function Be(e){if(!H)return;const{items:t,dropFromOthersDisabled:r}=E.get(e.currentTarget);if(r&&e.currentTarget!==g&&e.currentTarget!==x)return;const n=ce(t),s=t.splice(n,1)[0];x=void 0;const{type:a,theOtherDz:u}=e.detail;if(a===ye.OUTSIDE_OF_ANY||a===ye.LEFT_FOR_ANOTHER&&u!==g&&E.get(u).dropFromOthersDisabled){J=!0,x=g;const d=E.get(g).items;d.splice(le,0,s),B(g,d,{trigger:_.DRAGGED_LEFT_ALL,id:N[A],source:R.POINTER})}B(e.currentTarget,t,{trigger:_.DRAGGED_LEFT,id:N[A],source:R.POINTER})}function We(e){const{items:t,dropFromOthersDisabled:r}=E.get(e.currentTarget);if(r&&e.currentTarget!==g)return;J=!1;const{index:n}=e.detail.indexObj,s=ce(t);t.splice(s,1),t.splice(n,0,K),B(e.currentTarget,t,{trigger:_.DRAGGED_OVER_INDEX,id:N[A],source:R.POINTER})}function ie(e){e.preventDefault();const t=e.touches?e.touches[0]:e;L={x:t.clientX,y:t.clientY},y.style.transform=`translate3d(${L.x-z.x}px, ${L.y-z.y}px, 0)`}function j(){me=!0,window.removeEventListener("mousemove",ie),window.removeEventListener("touchmove",ie),window.removeEventListener("mouseup",j),window.removeEventListener("touchend",j),At(),ft(y),x||(x=g);let{items:e,type:t}=E.get(x);re(C.get(t),s=>E.get(s).dropTargetStyle,s=>E.get(s).dropTargetClasses);let r=ce(e);r===-1&&(r=le),e=e.map(s=>s[ae]?N:s);function n(){De(),q(x,e,{trigger:J?_.DROPPED_OUTSIDE_OF_ANY:_.DROPPED_INTO_ZONE,id:N[A],source:R.POINTER}),x!==g&&q(g,E.get(g).items,{trigger:_.DROPPED_INTO_ANOTHER,id:N[A],source:R.POINTER}),ht(x.children[r]),Ot()}It(r,n)}function It(e,t){const r=tt(x.children[e]),n={x:r.left-parseFloat(y.style.left),y:r.top-parseFloat(y.style.top)},{dropAnimationDurationMs:s}=E.get(x),a=`transform ${s}ms ease`;y.style.transition=y.style.transition?y.style.transition+","+a:a,y.style.transform=`translate3d(${n.x}px, ${n.y}px, 0)`,window.setTimeout(t,s)}function _t(e,t){ne.push({dz:e,destroy:t}),window.requestAnimationFrame(()=>{ze(e),document.body.appendChild(e)})}function Ot(){y.remove(),F.remove(),ne.length&&(ne.forEach(({dz:e,destroy:t})=>{t(),e.remove()}),ne=[]),y=void 0,F=void 0,N=void 0,de=void 0,g=void 0,le=void 0,K=void 0,x=void 0,z=void 0,L=void 0,H=!1,me=!1,De=void 0,J=!1}function bt(e,t){let r=!1;const n={items:void 0,type:void 0,flipDurationMs:0,dragDisabled:!1,morphDisabled:!1,dropFromOthersDisabled:!1,dropTargetStyle:we,dropTargetClasses:[],transformDraggedElement:()=>{},centreDraggedOnCursor:!1};let s=new Map;function a(){window.addEventListener("mousemove",l,{passive:!1}),window.addEventListener("touchmove",l,{passive:!1,capture:!1}),window.addEventListener("mouseup",d,{passive:!1}),window.addEventListener("touchend",d,{passive:!1})}function u(){window.removeEventListener("mousemove",l),window.removeEventListener("touchmove",l),window.removeEventListener("mouseup",d),window.removeEventListener("touchend",d)}function d(){u(),F=void 0,z=void 0,L=void 0}function l(i){i.preventDefault();const c=i.touches?i.touches[0]:i;L={x:c.clientX,y:c.clientY},(Math.abs(L.x-z.x)>=Te||Math.abs(L.y-z.y)>=Te)&&(u(),o())}function h(i){if(i.target!==i.currentTarget&&(i.target.value!==void 0||i.target.isContentEditable)||i.button||H)return;i.stopPropagation();const c=i.touches?i.touches[0]:i;z={x:c.clientX,y:c.clientY},L={...z},F=i.currentTarget,a()}function o(){H=!0;const i=s.get(F);le=i,g=F.parentElement;const c=g.closest("dialog")||g.getRootNode(),T=c.body||c,{items:O,type:P,centreDraggedOnCursor:G}=n;N=O[i],de=P,K={...N,[ae]:!0,[A]:et},y=ut(F,G&&L),F.setAttribute(ve,!0);function S(){y.parentElement?window.requestAnimationFrame(S):(T.appendChild(y),y.focus(),vt(),ze(F),T.appendChild(F))}window.requestAnimationFrame(S),te(Array.from(C.get(n.type)).filter(w=>w===g||!E.get(w).dropFromOthersDisabled),w=>E.get(w).dropTargetStyle,w=>E.get(w).dropTargetClasses),O.splice(i,1,K),De=mt(g),B(g,O,{trigger:_.DRAG_STARTED,id:N[A],source:R.POINTER}),window.addEventListener("mousemove",ie,{passive:!1}),window.addEventListener("touchmove",ie,{passive:!1,capture:!1}),window.addEventListener("mouseup",j,{passive:!1}),window.addEventListener("touchend",j,{passive:!1})}function f({items:i=void 0,flipDurationMs:c=0,type:T=Dt,dragDisabled:O=!1,morphDisabled:P=!1,dropFromOthersDisabled:G=!1,dropTargetStyle:S=we,dropTargetClasses:w=[],transformDraggedElement:I=()=>{},centreDraggedOnCursor:qe=!1}){n.dropAnimationDurationMs=c,n.type&&T!==n.type&&Ae(e,n.type),n.type=T,n.items=[...i],n.dragDisabled=O,n.morphDisabled=P,n.transformDraggedElement=I,n.centreDraggedOnCursor=qe,r&&H&&!me&&(!Je(S,n.dropTargetStyle)||!Qe(w,n.dropTargetClasses))&&(re([e],()=>n.dropTargetStyle,()=>w),te([e],()=>S,()=>w)),n.dropTargetStyle=S,n.dropTargetClasses=[...w];function Q(m,b){return E.get(m)?E.get(m)[b]:n[b]}r&&H&&n.dropFromOthersDisabled!==G&&(G?re([e],m=>Q(m,"dropTargetStyle"),m=>Q(m,"dropTargetClasses")):te([e],m=>Q(m,"dropTargetStyle"),m=>Q(m,"dropTargetClasses"))),n.dropFromOthersDisabled=G,E.set(e,n),wt(e,T);const Ke=ce(n.items);for(let m=0;m<e.children.length;m++){const b=e.children[m];if(pt(b,O),m===Ke){n.transformDraggedElement(y,N,m),P||gt(y,b,L.x,L.y),Et(b);continue}b.removeEventListener("mousedown",ue.get(b)),b.removeEventListener("touchstart",ue.get(b)),O||(b.addEventListener("mousedown",h),b.addEventListener("touchstart",h),ue.set(b,h)),s.set(b,m),r||(r=!0)}}return f(t),{update:i=>{f(i)},destroy:()=>{function i(){Ae(e,E.get(e).type),E.delete(e)}H&&!e.closest(`[${ve}]`)?_t(e,i):i()}}}const fe={DND_ZONE_ACTIVE:"dnd-zone-active",DND_ZONE_DRAG_DISABLED:"dnd-zone-drag-disabled"},Ue={[fe.DND_ZONE_ACTIVE]:"Tab to one the items and press space-bar or enter to start dragging it",[fe.DND_ZONE_DRAG_DISABLED]:"This is a disabled drag and drop list"},Rt="dnd-action-aria-alert";let p;function ge(){p||(p=document.createElement("div"),function(){p.id=Rt,p.style.position="fixed",p.style.bottom="0",p.style.left="0",p.style.zIndex="-5",p.style.opacity="0",p.style.height="0",p.style.width="0",p.setAttribute("role","alert")}(),document.body.prepend(p),Object.entries(Ue).forEach(([e,t])=>document.body.prepend(St(e,t))))}function xt(){return he?null:(document.readyState==="complete"?ge():window.addEventListener("DOMContentLoaded",ge),{...fe})}function Nt(){he||!p||(Object.keys(Ue).forEach(e=>{var t;return(t=document.getElementById(e))==null?void 0:t.remove()}),p.remove(),p=void 0)}function St(e,t){const r=document.createElement("div");return r.id=e,r.innerHTML=`<p>${t}</p>`,r.style.display="none",r.style.position="fixed",r.style.zIndex="-5",r}function Y(e){if(he)return;p||ge(),p.innerHTML="";const t=document.createTextNode(e);p.appendChild(t),p.style.display="none",p.style.display="inline"}const Lt="--any--",Ie={outline:"rgba(255, 255, 102, 0.7) solid 2px"};let M=!1,pe,v,V="",U,k,Z="";const se=new WeakSet,_e=new WeakMap,Oe=new WeakMap,Ee=new Map,D=new Map,$=new Map;let oe;function Mt(e,t){$.size===0&&(oe=xt(),window.addEventListener("keydown",He),window.addEventListener("click",Ve)),$.has(t)||$.set(t,new Set),$.get(t).has(e)||($.get(t).add(e),$e())}function be(e,t){v===e&&X(),$.get(t).delete(e),Me(),$.get(t).size===0&&$.delete(t),$.size===0&&(window.removeEventListener("keydown",He),window.removeEventListener("click",Ve),oe=void 0,Nt())}function He(e){if(M)switch(e.key){case"Escape":{X();break}}}function Ve(){M&&(se.has(document.activeElement)||X())}function $t(e){if(!M)return;const t=e.currentTarget;if(t===v)return;V=t.getAttribute("aria-label")||"";const{items:r}=D.get(v),n=r.find(h=>h[A]===k),s=r.indexOf(n),a=r.splice(s,1)[0],{items:u,autoAriaDisabled:d}=D.get(t);t.getBoundingClientRect().top<v.getBoundingClientRect().top||t.getBoundingClientRect().left<v.getBoundingClientRect().left?(u.push(a),d||Y(`Moved item ${Z} to the end of the list ${V}`)):(u.unshift(a),d||Y(`Moved item ${Z} to the beginning of the list ${V}`)),q(v,r,{trigger:_.DROPPED_INTO_ANOTHER,id:k,source:R.KEYBOARD}),q(t,u,{trigger:_.DROPPED_INTO_ZONE,id:k,source:R.KEYBOARD}),v=t}function Ye(){Ee.forEach(({update:e},t)=>e(D.get(t)))}function X(e=!0){D.get(v).autoAriaDisabled||Y(`Stopped dragging item ${Z}`),se.has(document.activeElement)&&document.activeElement.blur(),e&&B(v,D.get(v).items,{trigger:_.DRAG_STOPPED,id:k,source:R.KEYBOARD}),re($.get(pe),t=>D.get(t).dropTargetStyle,t=>D.get(t).dropTargetClasses),U=null,k=null,Z="",pe=null,v=null,V="",M=!1,Ye()}function Ct(e,t){const r={items:void 0,type:void 0,dragDisabled:!1,zoneTabIndex:0,zoneItemTabIndex:0,dropFromOthersDisabled:!1,dropTargetStyle:Ie,dropTargetClasses:[],autoAriaDisabled:!1};function n(o,f,i){o.length<=1||o.splice(i,1,o.splice(f,1,o[i])[0])}function s(o){switch(o.key){case"Enter":case" ":{if((o.target.disabled!==void 0||o.target.href||o.target.isContentEditable)&&!se.has(o.target))return;o.preventDefault(),o.stopPropagation(),M?X():a(o);break}case"ArrowDown":case"ArrowRight":{if(!M)return;o.preventDefault(),o.stopPropagation();const{items:f}=D.get(e),i=Array.from(e.children),c=i.indexOf(o.currentTarget);c<i.length-1&&(r.autoAriaDisabled||Y(`Moved item ${Z} to position ${c+2} in the list ${V}`),n(f,c,c+1),q(e,f,{trigger:_.DROPPED_INTO_ZONE,id:k,source:R.KEYBOARD}));break}case"ArrowUp":case"ArrowLeft":{if(!M)return;o.preventDefault(),o.stopPropagation();const{items:f}=D.get(e),c=Array.from(e.children).indexOf(o.currentTarget);c>0&&(r.autoAriaDisabled||Y(`Moved item ${Z} to position ${c} in the list ${V}`),n(f,c,c-1),q(e,f,{trigger:_.DROPPED_INTO_ZONE,id:k,source:R.KEYBOARD}));break}}}function a(o){d(o.currentTarget),v=e,pe=r.type,M=!0;const f=Array.from($.get(r.type)).filter(i=>i===v||!D.get(i).dropFromOthersDisabled);if(te(f,i=>D.get(i).dropTargetStyle,i=>D.get(i).dropTargetClasses),!r.autoAriaDisabled){let i=`Started dragging item ${Z}. Use the arrow keys to move it within its list ${V}`;f.length>1&&(i+=", or tab to another list in order to move the item into it"),Y(i)}B(e,D.get(e).items,{trigger:_.DRAG_STARTED,id:k,source:R.KEYBOARD}),Ye()}function u(o){M&&o.currentTarget!==U&&(o.stopPropagation(),X(!1),a(o))}function d(o){const{items:f}=D.get(e),i=Array.from(e.children),c=i.indexOf(o);U=o,U.tabIndex=r.zoneItemTabIndex,k=f[c][A],Z=i[c].getAttribute("aria-label")||""}function l({items:o=[],type:f=Lt,dragDisabled:i=!1,zoneTabIndex:c=0,zoneItemTabIndex:T=0,dropFromOthersDisabled:O=!1,dropTargetStyle:P=Ie,dropTargetClasses:G=[],autoAriaDisabled:S=!1}){r.items=[...o],r.dragDisabled=i,r.dropFromOthersDisabled=O,r.zoneTabIndex=c,r.zoneItemTabIndex=T,r.dropTargetStyle=P,r.dropTargetClasses=G,r.autoAriaDisabled=S,r.type&&f!==r.type&&be(e,r.type),r.type=f,Mt(e,f),S||(e.setAttribute("aria-disabled",i),e.setAttribute("role","list"),e.setAttribute("aria-describedby",i?oe.DND_ZONE_DRAG_DISABLED:oe.DND_ZONE_ACTIVE)),D.set(e,r),M?e.tabIndex=e===v||U.contains(e)||r.dropFromOthersDisabled||v&&r.type!==D.get(v).type?-1:0:e.tabIndex=r.zoneTabIndex,e.addEventListener("focus",$t);for(let w=0;w<e.children.length;w++){const I=e.children[w];se.add(I),I.tabIndex=M?-1:r.zoneItemTabIndex,S||I.setAttribute("role","listitem"),I.removeEventListener("keydown",_e.get(I)),I.removeEventListener("click",Oe.get(I)),i||(I.addEventListener("keydown",s),_e.set(I,s),I.addEventListener("click",u),Oe.set(I,u)),M&&r.items[w][A]===k&&(U=I,U.tabIndex=r.zoneItemTabIndex,I.focus())}}l(t);const h={update:o=>{l(o)},destroy:()=>{be(e,r.type),D.delete(e),Ee.delete(e)}};return Ee.set(e,h),h}function zt(e,t){if(Pt(e))return{update:()=>{},destroy:()=>{}};Re(t);const r=bt(e,t),n=Ct(e,t);return{update:s=>{Re(s),r.update(s),n.update(s)},destroy:()=>{r.destroy(),n.destroy()}}}function Pt(e){return!!e.closest(`[${ot}="true"]`)}function Re(e){const{items:t,flipDurationMs:r,type:n,dragDisabled:s,morphDisabled:a,dropFromOthersDisabled:u,zoneTabIndex:d,zoneItemTabIndex:l,dropTargetStyle:h,dropTargetClasses:o,transformDraggedElement:f,autoAriaDisabled:i,centreDraggedOnCursor:c,...T}=e;if(Object.keys(T).length>0&&console.warn("dndzone will ignore unknown options",T),!t)throw new Error("no 'items' key provided to dndzone");const O=t.find(P=>!{}.hasOwnProperty.call(P,A));if(O)throw new Error(`missing '${A}' property for item ${ee(O)}`);if(o&&!Array.isArray(o))throw new Error(`dropTargetClasses should be an array but instead it is a ${typeof o}, ${ee(o)}`);if(d&&!xe(d))throw new Error(`zoneTabIndex should be a number but instead it is a ${typeof d}, ${ee(d)}`);if(l&&!xe(l))throw new Error(`zoneItemTabIndex should be a number but instead it is a ${typeof l}, ${ee(l)}`)}function xe(e){return!isNaN(e)&&function(t){return(t|0)===t}(parseFloat(e))}function Zt(e,{from:t,to:r},n={}){const s=getComputedStyle(e),a=s.transform==="none"?"":s.transform,[u,d]=s.transformOrigin.split(" ").map(parseFloat),l=t.left+t.width*u/r.width-(r.left+u),h=t.top+t.height*d/r.height-(r.top+d),{delay:o=0,duration:f=c=>Math.sqrt(c)*120,easing:i=at}=n;return{delay:o,duration:dt(f)?f(Math.sqrt(l*l+h*h)):f,easing:i,css:(c,T)=>{const O=T*l,P=T*h,G=c+T*t.width/r.width,S=c+T*t.height/r.height;return`transform: ${a} translate(${O}px, ${P}px) scale(${G}, ${S});`}}}export{zt as d,Zt as f};
//# sourceMappingURL=index.b90b66c1.js.map
