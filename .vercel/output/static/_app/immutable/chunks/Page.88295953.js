import{S as me,i as he,s as be,P as Ee,Q as De,m as V,h as m,n as p,b as q,H as B,I as ae,M as pe,N as Ce,k as P,y as F,a as L,l as R,z as K,c as j,A as W,L as Y,g as y,v as te,d as D,f as le,B as X,a1 as Be,J as H,O as kt,T as vt,q as ue,r as de,V as tt,u as lt,w as Ve,_ as ze,ao as wt,e as Oe,ap as yt,K as _e,a8 as Et,a9 as Dt,Z as Tt,a2 as ee,aq as It,a4 as Nt,a5 as Ct,p as Te,aa as Bt,ab as Vt,t as zt}from"./index.0bca4926.js";import{f as ce}from"./index.a02c07a6.js";import{d as Ot,f as St}from"./index.b90b66c1.js";import{a as Ie,u as Ut,g as Pt,h as Se,y as Rt,p as $t,o as Ue,_ as Pe,b as Re,$ as $e,n as qe,i as Ae,q as qt,X as At,a0 as Me,a1 as He,w as Mt,a2 as Ht,x as Ge,a3 as Gt,a4 as Le,a5 as ot,a6 as re,m as je,a7 as nt}from"./Page.svelte_svelte_type_style_lang.8d655cf0.js";import{I as se,b as Lt}from"./navigation.e461c846.js";function jt(n){let t,e,o,l;return{c(){t=Ee("svg"),e=Ee("circle"),o=Ee("path"),this.h()},l(i){t=De(i,"svg",{xmlns:!0,fill:!0,viewBox:!0,class:!0});var s=V(t);e=De(s,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0,class:!0}),V(e).forEach(m),o=De(s,"path",{fill:!0,d:!0,class:!0}),V(o).forEach(m),s.forEach(m),this.h()},h(){p(e,"cx","12"),p(e,"cy","12"),p(e,"r","10"),p(e,"stroke","currentColor"),p(e,"stroke-width","4"),p(e,"class","svelte-1qcg8lf"),p(o,"fill","currentColor"),p(o,"d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"),p(o,"class","svelte-1qcg8lf"),p(t,"xmlns","http://www.w3.org/2000/svg"),p(t,"fill","none"),p(t,"viewBox","0 0 24 24"),p(t,"class","svelte-1qcg8lf")},m(i,s){q(i,t,s),B(t,e),B(t,o)},p:ae,i(i){l||pe(()=>{l=Ce(t,ce,{}),l.start()})},o:ae,d(i){i&&m(t)}}}class Ft extends me{constructor(t){super(),he(this,t,null,jt,be,{})}}function Fe(n){let t,e,o,l,i;return e=new se({props:{icon:"ph:code-bold"}}),{c(){t=P("button"),F(e.$$.fragment),this.h()},l(s){t=R(s,"BUTTON",{class:!0});var r=V(t);K(e.$$.fragment,r),r.forEach(m),this.h()},h(){p(t,"class","svelte-122bbrw")},m(s,r){q(s,t,r),W(e,t,null),o=!0,l||(i=Y(t,"click",n[10]),l=!0)},p:ae,i(s){o||(y(e.$$.fragment,s),o=!0)},o(s){D(e.$$.fragment,s),o=!1},d(s){s&&m(t),X(e),l=!1,i()}}}function Ke(n){let t,e,o,l;return{c(){t=P("button"),e=ue(n[1]),this.h()},l(i){t=R(i,"BUTTON",{class:!0});var s=V(t);e=de(s,n[1]),s.forEach(m),this.h()},h(){p(t,"class","block-id svelte-122bbrw")},m(i,s){q(i,t,s),B(t,e),o||(l=tt(Pt.call(null,t)),o=!0)},p(i,s){s&2&&lt(e,i[1])},d(i){i&&m(t),o=!1,l()}}}function We(n){let t,e,o,l,i;return e=new se({props:{icon:"heroicons-outline:chevron-up"}}),{c(){t=P("button"),F(e.$$.fragment),this.h()},l(s){t=R(s,"BUTTON",{class:!0});var r=V(t);K(e.$$.fragment,r),r.forEach(m),this.h()},h(){p(t,"class","svelte-122bbrw")},m(s,r){q(s,t,r),W(e,t,null),o=!0,l||(i=Y(t,"click",n[13]),l=!0)},p:ae,i(s){o||(y(e.$$.fragment,s),o=!0)},o(s){D(e.$$.fragment,s),o=!1},d(s){s&&m(t),X(e),l=!1,i()}}}function Xe(n){let t,e,o,l,i;return e=new se({props:{icon:"heroicons-outline:chevron-down"}}),{c(){t=P("button"),F(e.$$.fragment),this.h()},l(s){t=R(s,"BUTTON",{class:!0});var r=V(t);K(e.$$.fragment,r),r.forEach(m),this.h()},h(){p(t,"class","bottom-right svelte-122bbrw")},m(s,r){q(s,t,r),W(e,t,null),o=!0,l||(i=Y(t,"click",n[14]),l=!0)},p:ae,i(s){o||(y(e.$$.fragment,s),o=!0)},o(s){D(e.$$.fragment,s),o=!1},d(s){s&&m(t),X(e),l=!1,i()}}}function Kt(n){let t,e,o,l,i,s,r,d,k,h,b,C,z,$,g,v,O,E,f,c,_;i=new se({props:{icon:"material-symbols:edit-square-outline-rounded"}});let u=n[5]==="DEV"&&Fe(n),S=n[2]&&Ke(n);b=new se({props:{icon:"ion:trash"}}),$=new se({props:{icon:"ion:duplicate"}});let I=!n[4]&&We(n),T=!n[3]&&Xe(n);return{c(){t=P("div"),e=P("div"),o=P("div"),l=P("button"),F(i.$$.fragment),s=L(),u&&u.c(),r=L(),S&&S.c(),d=L(),k=P("div"),h=P("button"),F(b.$$.fragment),C=L(),z=P("button"),F($.$$.fragment),g=L(),I&&I.c(),v=L(),O=P("div"),T&&T.c(),this.h()},l(w){t=R(w,"DIV",{class:!0});var N=V(t);e=R(N,"DIV",{class:!0});var ie=V(e);o=R(ie,"DIV",{class:!0});var Z=V(o);l=R(Z,"BUTTON",{class:!0});var G=V(l);K(i.$$.fragment,G),G.forEach(m),s=j(Z),u&&u.l(Z),r=j(Z),S&&S.l(Z),Z.forEach(m),d=j(ie),k=R(ie,"DIV",{class:!0});var U=V(k);h=R(U,"BUTTON",{class:!0});var oe=V(h);K(b.$$.fragment,oe),oe.forEach(m),C=j(U),z=R(U,"BUTTON",{class:!0});var x=V(z);K($.$$.fragment,x),x.forEach(m),g=j(U),I&&I.l(U),U.forEach(m),ie.forEach(m),v=j(N),O=R(N,"DIV",{class:!0});var J=V(O);T&&T.l(J),J.forEach(m),N.forEach(m),this.h()},h(){p(l,"class","svelte-122bbrw"),p(o,"class","component-button svelte-122bbrw"),p(h,"class","button-delete svelte-122bbrw"),p(z,"class","svelte-122bbrw"),p(k,"class","top-right svelte-122bbrw"),p(e,"class","top svelte-122bbrw"),p(O,"class","bottom svelte-122bbrw"),p(t,"class","block-buttons primo-reset svelte-122bbrw")},m(w,N){q(w,t,N),B(t,e),B(e,o),B(o,l),W(i,l,null),B(o,s),u&&u.m(o,null),B(o,r),S&&S.m(o,null),B(e,d),B(e,k),B(k,h),W(b,h,null),B(k,C),B(k,z),W($,z,null),B(k,g),I&&I.m(k,null),B(t,v),B(t,O),T&&T.m(O,null),n[15](t),f=!0,c||(_=[Y(l,"click",n[9]),Y(h,"click",n[11]),Y(z,"click",n[12])],c=!0)},p(w,[N]){w[5]==="DEV"?u?(u.p(w,N),N&32&&y(u,1)):(u=Fe(w),u.c(),y(u,1),u.m(o,r)):u&&(te(),D(u,1,1,()=>{u=null}),le()),w[2]?S?S.p(w,N):(S=Ke(w),S.c(),S.m(o,null)):S&&(S.d(1),S=null),w[4]?I&&(te(),D(I,1,1,()=>{I=null}),le()):I?(I.p(w,N),N&16&&y(I,1)):(I=We(w),I.c(),y(I,1),I.m(k,null)),w[3]?T&&(te(),D(T,1,1,()=>{T=null}),le()):T?(T.p(w,N),N&8&&y(T,1)):(T=Xe(w),T.c(),y(T,1),T.m(O,null))},i(w){f||(y(i.$$.fragment,w),y(u),y(b.$$.fragment,w),y($.$$.fragment,w),y(I),y(T),E||pe(()=>{E=Ce(t,ce,{duration:100}),E.start()}),f=!0)},o(w){D(i.$$.fragment,w),D(u),D(b.$$.fragment,w),D($.$$.fragment,w),D(I),D(T),f=!1},d(w){w&&m(t),X(i),u&&u.d(),S&&S.d(),X(b),X($),I&&I.d(),T&&T.d(),n[15](null),c=!1,Be(_)}}}function Wt(n,t,e){let o,l,i,s;H(n,Ie,f=>e(8,i=f)),H(n,Ut,f=>e(5,s=f));const r=kt();let{id:d}=t,{i:k}=t,{node:h=null}=t,b;b=vt("DEBUGGING");const C=()=>r("edit-content"),z=()=>r("edit-code"),$=()=>r("delete"),g=()=>r("duplicate"),v=()=>r("moveUp"),O=()=>r("moveDown");function E(f){Ve[f?"unshift":"push"](()=>{h=f,e(0,h)})}return n.$$set=f=>{"id"in f&&e(1,d=f.id),"i"in f&&e(7,k=f.i),"node"in f&&e(0,h=f.node)},n.$$.update=()=>{n.$$.dirty&128&&e(4,o=k===0),n.$$.dirty&384&&e(3,l=k===i.length-1)},[h,d,b,l,o,s,r,k,i,C,z,$,g,v,O,E]}class Xt extends me{constructor(t){super(),he(this,t,Wt,Kt,be,{id:1,i:7,node:0})}}function Yt(n){let t,e,o,l,i,s=n[0].user+"",r,d,k;return e=new se({props:{icon:"carbon:locked"}}),{c(){t=P("div"),F(e.$$.fragment),o=L(),l=P("span"),i=ue("Being edited by "),r=ue(s),this.h()},l(h){t=R(h,"DIV",{class:!0});var b=V(t);K(e.$$.fragment,b),o=j(b),l=R(b,"SPAN",{});var C=V(l);i=de(C,"Being edited by "),r=de(C,s),C.forEach(m),b.forEach(m),this.h()},h(){p(t,"class","locked-overlay primo-reset svelte-192g5m5")},m(h,b){q(h,t,b),W(e,t,null),B(t,o),B(t,l),B(l,i),B(l,r),k=!0},p(h,[b]){(!k||b&1)&&s!==(s=h[0].user+"")&&lt(r,s)},i(h){k||(y(e.$$.fragment,h),pe(()=>{k&&(d||(d=ze(t,ce,{duration:200},!0)),d.run(1))}),k=!0)},o(h){D(e.$$.fragment,h),d||(d=ze(t,ce,{duration:200},!1)),d.run(0),k=!1},d(h){h&&m(t),X(e),h&&d&&d.end()}}}function Jt(n,t,e){let{locked:o}=t;return n.$$set=l=>{"locked"in l&&e(0,o=l.locked)},[o]}class Qt extends me{constructor(t){super(),he(this,t,Jt,Yt,be,{locked:0})}}function Ye(n,t,e){const o=n.slice();o[51]=t[e];const l=o[12].includes(o[51].id);return o[52]=l,o}function Je(n){let t,e,o,l;return e=new Ft({}),{c(){t=P("div"),F(e.$$.fragment),this.h()},l(i){t=R(i,"DIV",{class:!0});var s=V(t);K(e.$$.fragment,s),s.forEach(m),this.h()},h(){p(t,"class","spinner-container svelte-rz9bhu")},m(i,s){q(i,t,s),W(e,t,null),l=!0},i(i){l||(y(e.$$.fragment,i),o&&o.end(1),l=!0)},o(i){D(e.$$.fragment,i),o=It(t,ce,{duration:200}),l=!1},d(i){i&&m(t),X(e),i&&o&&o.end()}}}function Qe(n){let t,e,o;function l(s){n[25](s)}let i={id:n[4].id,i:n[4].index};return n[5]!==void 0&&(i.node=n[5]),t=new Xt({props:i}),Ve.push(()=>Nt(t,"node",l)),t.$on("delete",n[26]),t.$on("duplicate",n[27]),t.$on("edit-code",n[28]),t.$on("edit-content",n[29]),t.$on("moveUp",n[30]),t.$on("moveDown",n[31]),{c(){F(t.$$.fragment)},l(s){K(t.$$.fragment,s)},m(s,r){W(t,s,r),o=!0},p(s,r){const d={};r[0]&16&&(d.id=s[4].id),r[0]&16&&(d.i=s[4].index),!e&&r[0]&32&&(e=!0,d.node=s[5],Ct(()=>e=!1)),t.$set(d)},i(s){o||(y(t.$$.fragment,s),o=!0)},o(s){D(t.$$.fragment,s),o=!1},d(s){X(t,s)}}}function Zt(n){let t,e,o,l=n[52]&&Ze(n);function i(){return n[32](n[51])}function s(){return n[33](n[51])}return e=new nt({props:{block:n[51]}}),e.$on("lock",i),e.$on("unlock",s),e.$on("mount",n[34]),e.$on("resize",n[35]),{c(){l&&l.c(),t=L(),F(e.$$.fragment)},l(r){l&&l.l(r),t=j(r),K(e.$$.fragment,r)},m(r,d){l&&l.m(r,d),q(r,t,d),W(e,r,d),o=!0},p(r,d){n=r,n[52]?l?(l.p(n,d),d[0]&4098&&y(l,1)):(l=Ze(n),l.c(),y(l,1),l.m(t.parentNode,t)):l&&(te(),D(l,1,1,()=>{l=null}),le());const k={};d[0]&2&&(k.block=n[51]),e.$set(k)},i(r){o||(y(l),y(e.$$.fragment,r),o=!0)},o(r){D(l),D(e.$$.fragment,r),o=!1},d(r){l&&l.d(r),r&&m(t),X(e,r)}}}function xt(n){let t,e,o;return e=new nt({props:{primo_symbol:n[51].primo_symbol,block:{...n[51],symbol:n[51].id}}}),{c(){t=P("div"),F(e.$$.fragment),this.h()},l(l){t=R(l,"DIV",{class:!0});var i=V(t);K(e.$$.fragment,i),i.forEach(m),this.h()},h(){p(t,"class","block-placeholder svelte-rz9bhu")},m(l,i){q(l,t,i),W(e,t,null),o=!0},p(l,i){const s={};i[0]&2&&(s.primo_symbol=l[51].primo_symbol),i[0]&2&&(s.block={...l[51],symbol:l[51].id}),e.$set(s)},i(l){o||(y(e.$$.fragment,l),o=!0)},o(l){D(e.$$.fragment,l),o=!1},d(l){l&&m(t),X(e)}}}function Ze(n){let t,e;return t=new Qt({props:{locked:n[52]}}),{c(){F(t.$$.fragment)},l(o){K(t.$$.fragment,o)},m(o,l){W(t,o,l),e=!0},p(o,l){const i={};l[0]&4098&&(i.locked=o[52]),t.$set(i)},i(o){e||(y(t.$$.fragment,o),e=!0)},o(o){D(t.$$.fragment,o),e=!1},d(o){X(t,o)}}}function xe(n,t){let e,o,l,i,s,r,d,k,h=ae,b,C,z;const $=[xt,Zt],g=[];function v(E,f){return E[51][ot]?0:1}o=v(t),l=g[o]=$[o](t);function O(...E){return t[37](t[51],...E)}return{key:n,first:null,c(){e=P("div"),l.c(),i=L(),this.h()},l(E){e=R(E,"DIV",{class:!0,id:!0,"data-block":!0,style:!0});var f=V(e);l.l(f),i=j(f),f.forEach(m),this.h()},h(){p(e,"class","section svelte-rz9bhu"),p(e,"id",s="section-"+t[51].id.split("-")[0]),p(e,"data-block",r=t[51].symbol),Te(e,"min-height","3rem"),Te(e,"overflow","hidden"),Te(e,"position","relative"),_e(e,"locked",t[52]),this.first=e},m(E,f){q(E,e,f),g[o].m(e,null),B(e,i),b=!0,C||(z=[Y(e,"mousemove",t[36]),Y(e,"mouseenter",O),Y(e,"mouseleave",t[20])],C=!0)},p(E,f){t=E;let c=o;o=v(t),o===c?g[o].p(t,f):(te(),D(g[c],1,1,()=>{g[c]=null}),le(),l=g[o],l?l.p(t,f):(l=g[o]=$[o](t),l.c()),y(l,1),l.m(e,i)),(!b||f[0]&2&&s!==(s="section-"+t[51].id.split("-")[0]))&&p(e,"id",s),(!b||f[0]&2&&r!==(r=t[51].symbol))&&p(e,"data-block",r),(!b||f[0]&4098)&&_e(e,"locked",t[52])},r(){k=e.getBoundingClientRect()},f(){Bt(e),h()},a(){h(),h=Vt(e,k,St,{duration:Ne})},i(E){b||(y(l),d||pe(()=>{d=Ce(e,ce,{duration:100}),d.start()}),b=!0)},o(E){D(l),b=!1},d(E){E&&m(e),g[o].d(),C=!1,Be(z)}}}function et(n){let t,e;return{c(){t=P("div"),e=ue("This is an empty page"),this.h()},l(o){t=R(o,"DIV",{class:!0});var l=V(t);e=de(l,"This is an empty page"),l.forEach(m),this.h()},h(){p(t,"class","empty-state svelte-rz9bhu")},m(o,l){q(o,t,l),B(t,e)},d(o){o&&m(t)}}}function el(n){let t,e,o,l=[],i=new Map,s,r,d,k="",h,b,C,z,$,g=!n[3]&&n[2].length>0&&Je(),v=n[8]&&Qe(n),O=n[1];const E=c=>c[51].id;for(let c=0;c<O.length;c+=1){let _=Ye(n,O,c),u=E(_);i.set(u,l[c]=xe(u,_))}let f=n[10]&&et();return{c(){g&&g.c(),t=L(),v&&v.c(),e=L(),o=P("div");for(let c=0;c<l.length;c+=1)l[c].c();r=L(),d=new wt(!1),h=L(),f&&f.c(),b=Oe(),this.h()},l(c){g&&g.l(c),t=j(c),v&&v.l(c),e=j(c),o=R(c,"DIV",{id:!0,lang:!0,class:!0});var _=V(o);for(let u=0;u<l.length;u+=1)l[u].l(_);_.forEach(m),r=j(c),d=yt(c,!1),h=j(c),f&&f.l(c),b=Oe(),this.h()},h(){p(o,"id","page"),p(o,"lang",n[11]),p(o,"class","svelte-rz9bhu"),_e(o,"fadein",n[3]),d.a=h},m(c,_){g&&g.m(c,_),q(c,t,_),v&&v.m(c,_),q(c,e,_),q(c,o,_);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(o,null);n[38](o),q(c,r,_),d.m(k,c,_),q(c,h,_),f&&f.m(c,_),q(c,b,_),C=!0,z||($=[tt(s=Ot.call(null,o,{items:n[1],flipDurationMs:Ne,morphDisabled:!0,dragDisabled:!0})),Y(o,"consider",n[16]),Y(o,"finalize",n[17])],z=!0)},p(c,_){if(!c[3]&&c[2].length>0?g?_[0]&12&&y(g,1):(g=Je(),g.c(),y(g,1),g.m(t.parentNode,t)):g&&(te(),D(g,1,1,()=>{g=null}),le()),c[8]?v?(v.p(c,_),_[0]&256&&y(v,1)):(v=Qe(c),v.c(),y(v,1),v.m(e.parentNode,e)):v&&(te(),D(v,1,1,()=>{v=null}),le()),_[0]&1864595){O=c[1],te();for(let u=0;u<l.length;u+=1)l[u].r();l=Et(l,_,E,1,c,O,i,o,Dt,xe,null,Ye);for(let u=0;u<l.length;u+=1)l[u].a();le()}(!C||_[0]&2048)&&p(o,"lang",c[11]),s&&Tt(s.update)&&_[0]&2&&s.update.call(null,{items:c[1],flipDurationMs:Ne,morphDisabled:!0,dragDisabled:!0}),(!C||_[0]&8)&&_e(o,"fadein",c[3]),c[10]?f||(f=et(),f.c(),f.m(b.parentNode,b)):f&&(f.d(1),f=null)},i(c){if(!C){y(g),y(v);for(let _=0;_<O.length;_+=1)y(l[_]);C=!0}},o(c){D(g),D(v);for(let _=0;_<l.length;_+=1)D(l[_]);C=!1},d(c){g&&g.d(c),c&&m(t),v&&v.d(c),c&&m(e),c&&m(o);for(let _=0;_<l.length;_+=1)l[_].d();n[38](null),c&&m(r),c&&d.d(),c&&m(h),f&&f.d(c),c&&m(b),z=!1,Be($)}}}const Ne=100;function tl(n){const t=document.createElement("div");t.innerHTML=n,Array.from(t.childNodes).forEach(e=>{if(e.tagName==="SCRIPT"){const o=document.createElement("script");o.textContent=e.textContent,Array.from(e.attributes).forEach(l=>{o.setAttribute(l.name,l.value)}),document.head.appendChild(o)}else document.head.appendChild(e)})}function ll(n,t,e){let o,l,i,s,r,d,k,h,b,C,z,$,g;H(n,Se,a=>e(42,l=a)),H(n,Rt,a=>e(43,i=a)),H(n,Ie,a=>e(2,s=a)),H(n,$t,a=>e(23,r=a)),H(n,Ue,a=>e(24,d=a)),H(n,Pe,a=>e(44,k=a)),H(n,Re,a=>e(45,h=a)),H(n,$e,a=>e(46,b=a)),H(n,qe,a=>e(47,C=a)),H(n,Ae,a=>e(48,z=a)),H(n,qt,a=>e(11,$=a)),H(n,At,a=>e(12,g=a));let{page:v}=t;O(v);async function O(a){ee(Ie,s=a.sections,s),ee(Ae,z=a.id,z),ee(qe,C=a.name,C),ee($e,b=a.url,b),ee(Re,h=a.fields,h),ee(Ue,d=a.code,d),ee(Pe,k=a.content,k)}const E={pageCode:null,siteCode:null};let f;async function c(a,M){if(Me(a,E.pageCode)&&Me(M,E.siteCode))return;const A=Date.now();E.pageCode=He(a),E.siteCode=He(M);const fe=await Mt(M.css+a.css);if(f>A)return;f=A;const ne=Ht({}),[ye,ol]=await Promise.all([Ge({component:{html:`<svelte:head>
            ${M.html.head}${a.html.head}
            ${Gt(fe)}
          </svelte:head>`,css:"",js:"",data:ne}}),Ge({component:{html:M.html.below+a.html.below,css:"",js:"",data:ne}})]);ye.error?console.warn(ye.error):tl(ye.head)}let _=!1,u=0;Lt(()=>{e(3,_=!1),e(0,u=0)});async function S(a){Le({active_block:a})}function I(){setTimeout(()=>{Le({active_block:null})},100)}let T=s.map(a=>({...a,_drag_id:a.id}));async function w(a){e(1,T=s.map(M=>({...M,_drag_id:M.id})))}let N=null;function ie({detail:a}){if(N=a.items.map((A,fe)=>({...A,index:fe})).find(A=>A.isDndShadowItem),console.log({detail:a,dragged_symbol:N}),!N)return;i.some(A=>A.id===N.id)?(console.log("Site symbol"),e(1,T=a.items)):(console.log("Primo symbol"),N.is_primo_block=!0,e(1,T=a.items.map(A=>A[ot]?(console.log("adding primo symbol",A),{...A,primo_symbol:A}):A)))}async function Z(){e(9,Q=!0),N.is_primo_block?re.add_primo_block(N,N.index):re.add_block(N,N.index),w(),setTimeout(()=>{e(9,Q=!1)},300)}let G=null,U,oe,x,J=!1;async function ge(){e(8,J=!0),await zt(),ke(),oe.addEventListener("scroll",()=>{e(8,J=!1)})}function ke(){if(!x)return;x.appendChild(U);const{top:a,left:M,bottom:A,right:fe}=x.getBoundingClientRect(),ne={top:(a<=56?56:a)+window.scrollY,bottom:A>=window.innerHeight?0:window.innerHeight-A,left:M,right:window.innerWidth-fe-window.scrollX};e(5,U.style.top=`${ne.top}px`,U),e(5,U.style.bottom=`${ne.bottom}px`,U),e(5,U.style.left=`${ne.left}px`,U),e(5,U.style.right=`${ne.right}px`,U)}function ve(){e(8,J=!1)}function we(a,M=!1){S(a.id),ee(Se,l=M,l),je.show("COMPONENT_EDITOR",{component:a,header:{title:"Edit Block",icon:l?"fas fa-code":"fas fa-edit",onclose:()=>{I(a.id)},button:{icon:"fas fa-check",label:"Save",onclick:async()=>{I(a.id),je.hide()}}}},{showSwitch:!0,disabledBgClose:!0})}let Q=!1;function st(a){U=a,e(5,U)}const it=async()=>{re.delete_block(G.id),w()},rt=()=>{re.duplicate_block(G.id),w()},at=()=>we(G,!0),ct=()=>we(G),ft=async()=>{e(9,Q=!0),ve(),re.move_block(G,G.index-1),w(),setTimeout(()=>{e(9,Q=!1)},300)},ut=async()=>{e(9,Q=!0),ve(),re.move_block(G,G.index+1),w(),setTimeout(()=>{e(9,Q=!1)},300)},dt=a=>S(a.id),_t=a=>I(a.id),mt=()=>e(0,u++,u),ht=()=>{J&&ke()},bt=()=>{!Q&&!J&&ge()},pt=async(a,{target:M})=>{e(4,G=a),e(7,x=M),Q||ge()};function gt(a){Ve[a?"unshift":"push"](()=>{oe=a,e(6,oe)})}return n.$$set=a=>{"page"in a&&e(22,v=a.page)},n.$$.update=()=>{n.$$.dirty[0]&4194304&&O(v),n.$$.dirty[0]&25165824&&c(d,r),n.$$.dirty[0]&4&&e(10,o=s.length===0),n.$$.dirty[0]&5&&u===s.length&&u!==0&&e(3,_=!0),n.$$.dirty[0]&2&&console.log({draggable_sections:T}),n.$$.dirty[0]&4&&w()},[u,T,s,_,G,U,oe,x,J,Q,o,$,g,S,I,w,ie,Z,ge,ke,ve,we,v,r,d,st,it,rt,at,ct,ft,ut,dt,_t,mt,ht,bt,pt,gt]}class cl extends me{constructor(t){super(),he(this,t,ll,el,be,{page:22},null,[-1,-1])}}export{cl as P};
//# sourceMappingURL=Page.88295953.js.map
